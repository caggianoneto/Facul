


CREATE TABLE ALUNO(
	ID_ALUNO	INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	NOME		VARCHAR(40) NOT NULL,
	ENDERECO	VARCHAR(40) NOT NULL,
	BAIRRO		VARCHAR(30) NOT NULL,
	CEP			VARCHAR(8) NOT NULL,
	CIDADE		VARCHAR(40) NOT NULL,
	ESTADO		VARCHAR(2) NOT NULL,
	FONE		VARCHAR(10) NOT NULL,
	DATA_NASC	DATE
)

CREATE TABLE AUTOR(
	ID_AUTOR	INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	NOME_AUTOR  VARCHAR(40) NOT NULL,
	PAIS_NASC	VARCHAR(20) NOT NULL
	)

CREATE TABLE TIPO_OBRA(
	ID_TIPO_OBRA	INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	NOME_TIPO_OBRA	VARCHAR(40)
)



CREATE TABLE EMPRESTIMO(
	ID_EMPRESTIMO	INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	ID_ALUNO INT,
	DH_EMPRESTIMO	DATE
	-- CHAVE ESTRANGEIRA
	FOREIGN KEY (ID_ALUNO) REFERENCES ALUNO
		ON UPDATE CASCADE
)

CREATE TABLE OBRA(
	ID_OBRA			INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	NOME_OBRA		VARCHAR(40),
	ANO_PUBLICACAO	INT,
	ISBN			VARCHAR(20),
	EDITORA			VARCHAR(20),
	CIDADE			VARCHAR(20)
)


CREATE TABLE EXEMPLAR(
	ID_EXEMPLAR		INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	ID_OBRA			INT,
	ID_TIPO_OBRA	INT,
	SITUACAO		CHAR(1)
	-- CHAVE ESTRANGEIRA
	FOREIGN KEY (ID_OBRA) REFERENCES OBRA
		ON UPDATE CASCADE,
	FOREIGN KEY (ID_TIPO_OBRA) REFERENCES TIPO_OBRA
		ON UPDATE CASCADE
)


CREATE TABLE AUTOR_OBRA(
	ID_AUTOR		INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	ID_OBRA			INT
	-- CHAVE ESTRANGEIRA
	FOREIGN KEY (ID_OBRA) REFERENCES OBRA
		ON UPDATE CASCADE
)

CREATE TABLE EMPRESTIMO_OBRA(
	ID_EMPRESTIMO			INT,
	ID_EXEMPLAR				INT,
	DATA_PREV_DEVOLUCAO		DATE,
	DATA_DEVOLUCAO			DATE
)



INSERT INTO ALUNO VALUES ('JOSE CARLOS ANDRADE','AV. JOÃO MATOS DE LUCCA, 740', 'VILA ZUMBI', '83405098', 'COLOMBO', 'PR', 4135623988, '1980-07-01')
INSERT INTO ALUNO VALUES ('FRANCISCO DE ASSIS DA SILVA','R. DALILA LOPES COSTA, 44', 'NOVO MUNDO', '81550897', 'CURITIBA', 'PR', 4133645099, '1970-11-13')
INSERT INTO ALUNO VALUES ('PATRÍCIA GOMES CARNEIRO','R. JOAO STENZOWSKI, 230', 'CIDADE INDUSTRIAL', '81020342', 'CURITIBA', 'PR',4135678877, '1982-06-07')
INSERT INTO ALUNO VALUES ('VICENTE PEDRO MARQUES','AV. JACOB GERMAN, 88', 'OURO VERDE', '83950748', 'SÃO JOSÉ', 'SC',4135678877, '1980-01-01')
INSERT INTO ALUNO VALUES ('ELZA MACEDO','R. PONTA GROSSA, 90', 'CAPÃO DA IMBUIA', '80610160', 'CURITIBA', 'PR',4133297096, '1981-01-27')
INSERT INTO ALUNO VALUES ('SEBASTIÃO BERNARDINO','R. VICENTE NOGUEIRA, 900', 'ESPERANÇA', '83820055', 'FAZENDA RIO GRANDE', 'PR',4136045654, '1975-01-10')
INSERT INTO ALUNO VALUES ('RAFAEL SOARES DE OLIVEIRA','TRAVESSA ELIZETI CARDOSO, 889', 'JARDIM IPANEMA', '81234432', 'CURITIBA', 'PR',4132654543, '1979-02-08')
INSERT INTO ALUNO VALUES ('AIRTON ARAUJO ROCHA','R. VER. MIGUEL COSTA CURTA, 654', 'JARDIM GABINETO', '83408455', 'COLOMBO', 'PR',4133695933, '1977-01-01')
INSERT INTO ALUNO VALUES ('MARTA MARIA DE CARVALHO','R. GUGLIELMO MARCONI, 98', 'EUCALIPTOS', '89050299', 'FLORIANÓPOLIS', 'SC',4830199876, '1975-01-01')
INSERT INTO ALUNO VALUES ('LAURA SERPA','R. ENGENHEIRO ALBERTO MONTEIRO, 977', 'PORTÃO', '82810277', 'CURITIBA', 'PR',4132675760, '1981-12-09')


INSERT INTO AUTOR VALUES ('IDALBERTO CHIAVENATO','BRASIL')
INSERT INTO AUTOR VALUES ('ANDREW S. TANENBAUM','HOLANDA')
INSERT INTO AUTOR VALUES ('MARCO CANTU','ITALIA')
INSERT INTO AUTOR VALUES ('CARLOS HENRIQUE CANTU','BRASIL')
INSERT INTO AUTOR VALUES ('LUIZ BRESSER PEREIRA','BRASIL')
INSERT INTO AUTOR VALUES ('CARLOS EDUARDO MORIMOTO DA SILVA','BRASIL')
INSERT INTO AUTOR VALUES ('GUIDO LEMOS','BRASIL')
INSERT INTO AUTOR VALUES ('SERGIO COLCHER','BRASIL')
INSERT INTO AUTOR VALUES ('JAMES F. KUROSE','JAPAO')
INSERT INTO AUTOR VALUES ('KAITT ROSS','ITALIA')
INSERT INTO AUTOR VALUES ('TONY WESTERICH','ITALIA')
INSERT INTO AUTOR VALUES ('MARCOS VAN BESTRI','HOLANDA')


INSERT INTO OBRA VALUES ('TEORIA GERAL DA ADMINISTRAÇÃO',2006,85789878987,'CAMPUS','SÃO PAULO')
INSERT INTO OBRA VALUES ('SISTEMAS OPERACIONAIS MODERNOS',2003,85789898775,'MAKRON BOOKS','SÃO PAULO')
INSERT INTO OBRA VALUES ('DELPHI 2006 – A BÍBLIA',2006,85787674235,'MAKRON BOOKS','SÃO PAULO')
INSERT INTO OBRA VALUES ('FIREBIRD ESSENCIAL',2005,85756473835,'CIÊNCIA MODERNA','BRASÍLIA')
INSERT INTO OBRA VALUES ('ECONOMIA MODERNA',2000,85865960754,'BRASILIENSE','SÃO PAULO')
INSERT INTO OBRA VALUES ('LINUX – FERRAMENTAS TÉCNICAS',2006,85788421322,'SUL','PORTO ALEGRE')
INSERT INTO OBRA VALUES ('REDES DE COMPUTADORES ATM',1999,85734251223,'CAMPUS','SÃO PAULO')
INSERT INTO OBRA VALUES ('ENTENDENDO REDES DE COMPUTADORES',2005,87645362830,'CAMPUS','SÃO PAULO')
INSERT INTO OBRA VALUES ('PROGRAMAÇÃO COM DELPHI 7',2004,85673937756,'CAMPUS','SÃO PAULO')
INSERT INTO OBRA VALUES ('UML – TEORIA E PRÁTICA',2006,86637564738,'LTC','RIO DE JANEIRO')


INSERT INTO TIPO_OBRA VALUES('LIVRO')
INSERT INTO TIPO_OBRA VALUES('VHS')
INSERT INTO TIPO_OBRA VALUES('REVISTA')
INSERT INTO TIPO_OBRA VALUES('CD-ROOM')
INSERT INTO TIPO_OBRA VALUES('DVD')


INSERT INTO EMPRESTIMO VALUES(1,'2015-02-01 14:30')
INSERT INTO EMPRESTIMO VALUES(4,'2015-02-01 14:45')
INSERT INTO EMPRESTIMO VALUES(7,'2015-02-15 15:02')
INSERT INTO EMPRESTIMO VALUES(2,'2015-02-21 9:22')
INSERT INTO EMPRESTIMO VALUES(4,'2015-02-21 10:11')
INSERT INTO EMPRESTIMO VALUES(3,'2015-03-02 11:15')


INSERT INTO EMPRESTIMO_OBRA VALUES(1,1,'2015-02-05','')
INSERT INTO EMPRESTIMO_OBRA VALUES(1,8,'2015-02-05','')
INSERT INTO EMPRESTIMO_OBRA VALUES(1,9,'2015-02-08','')
INSERT INTO EMPRESTIMO_OBRA VALUES(2,4,'2015-02-06','')
INSERT INTO EMPRESTIMO_OBRA VALUES(2,1,'2015-02-06','')
INSERT INTO EMPRESTIMO_OBRA VALUES(2,9,'2015-02-08','')
INSERT INTO EMPRESTIMO_OBRA VALUES(3,8,'2015-02-20','')
INSERT INTO EMPRESTIMO_OBRA VALUES(4,5,'2015-02-24','')
INSERT INTO EMPRESTIMO_OBRA VALUES(4,3,'2015-02-26','')
INSERT INTO EMPRESTIMO_OBRA VALUES(5,1,'2015-02-26','')
INSERT INTO EMPRESTIMO_OBRA VALUES(5,8,'2015-02-25','')
INSERT INTO EMPRESTIMO_OBRA VALUES(6,8,'2015-03-08','')


INSERT INTO EXEMPLAR VALUES(1,1,'L')
INSERT INTO EXEMPLAR VALUES(1,1,'L')
INSERT INTO EXEMPLAR VALUES(1,1,'L')
INSERT INTO EXEMPLAR VALUES(2,1,'L')
INSERT INTO EXEMPLAR VALUES(2,1,'L')
INSERT INTO EXEMPLAR VALUES(3,1,'L')
INSERT INTO EXEMPLAR VALUES(3,1,'L')
INSERT INTO EXEMPLAR VALUES(3,1,'L')
INSERT INTO EXEMPLAR VALUES(4,1,'L')
INSERT INTO EXEMPLAR VALUES(4,1,'L')
INSERT INTO EXEMPLAR VALUES(4,1,'L')
INSERT INTO EXEMPLAR VALUES(4,1,'L')
INSERT INTO EXEMPLAR VALUES(5,1,'L')
INSERT INTO EXEMPLAR VALUES(6,1,'L')
INSERT INTO EXEMPLAR VALUES(6,1,'L')
INSERT INTO EXEMPLAR VALUES(6,1,'L')
INSERT INTO EXEMPLAR VALUES(7,1,'L')
INSERT INTO EXEMPLAR VALUES(8,1,'L')
INSERT INTO EXEMPLAR VALUES(8,1,'L')
INSERT INTO EXEMPLAR VALUES(8,1,'L')
INSERT INTO EXEMPLAR VALUES(8,1,'L')
INSERT INTO EXEMPLAR VALUES(8,1,'L')
INSERT INTO EXEMPLAR VALUES(9,1,'L')
INSERT INTO EXEMPLAR VALUES(9,1,'L')
INSERT INTO EXEMPLAR VALUES(9,1,'L')
INSERT INTO EXEMPLAR VALUES(9,1,'L')
INSERT INTO EXEMPLAR VALUES(10,1,'L')
INSERT INTO EXEMPLAR VALUES(10,1,'L')


